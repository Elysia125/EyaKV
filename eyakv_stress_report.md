# EyaKV 压力测试报告（整合版）

整合时间：2026-02-07  
整合报告来源：7 份单次报告（110335、110650、110834、111059、112417、112525、112819）

---

## 一、系统环境信息

- 操作系统: Windows 11
- 内核版本: 10.0.26200
- 架构: AMD64
- CPU 标识: Intel64 Family 6 Model 186 Stepping 2, GenuineIntel
- 物理核心数: 10
- 逻辑核心数: 16
- CPU 最高频率: 2400.0 MHz
- 内存总量: 31.8 GB
- Python 版本: 3.12.0

---

## 二、各次测试汇总表

| 报告时间 | Pipeline | 批次大小 | 线程数 | 总操作数 | 总耗时(s) | 吞吐量(ops/s) | 备注 |
|----------|----------|----------|--------|----------|-----------|---------------|------|
| 11:03:35 | ON | 100 | 10 | 10000 | 1.210 | **8295.04** | |
| 11:06:50 | ON | 100 | 1 | 10000 | 3.630 | **2757.67** | |
| 11:08:34 | OFF | - | 10 | 10000 | 52.290 | 191.23 | |
| 11:10:59 | OFF | - | 1 | 10000 | 57.760 | 173.14 | |
| 11:24:17 | ON | 200 | 10 | 10000 | 1.080 | **9299.71** | 部分子命令 timeout（见 stderr） |
| 11:25:25 | ON | 200 | 20 | 20000 | 1.600 | **12480.62** | 当前最高吞吐 |
| 11:28:19 | OFF | - | 20 | 20000 | 100.950 | 198.12 | |

**结论简要**：Pipeline 开启后吞吐显著高于单条 COMMAND；批次 200、20 线程时达约 12480 ops/s；Pipeline 关闭时约 19 ops/s/线程，受 RTT 限制。

---

## 三、测试环境与配置说明

- 目标主机: 127.0.0.1:5210
- 认证密码: 未设置
- 单次测试操作数: 1000 或 10000（多线程总操作数 = 线程数 × 每线程操作数）
- stress_test 路径: build/bin/stress_test.exe
- 所有报告均为「仅多线程吞吐量测试」（单连接多数据结构测试、连接数上限测试未运行）

---

## 四、各次测试详情

### 4.1 报告 11:03:35 — Pipeline ON, batch=100, 10 线程

- 总操作数: 10000，总耗时: 1.21s，吞吐量: **8295.04 ops/s**

### 4.2 报告 11:06:50 — Pipeline ON, batch=100, 1 线程

- 总操作数: 10000，总耗时: 3.63s，吞吐量: **2757.67 ops/s**

### 4.3 报告 11:08:34 — Pipeline OFF, 10 线程

- 总操作数: 10000，总耗时: 52.29s，吞吐量: **191.23 ops/s**  
- 每线程约 19 ops/s

### 4.4 报告 11:10:59 — Pipeline OFF, 1 线程

- 总操作数: 10000，总耗时: 57.76s，吞吐量: **173.14 ops/s**

### 4.5 报告 11:24:17 — Pipeline ON, batch=200, 10 线程

- 总操作数: 10000，总耗时: 1.08s，吞吐量: **9299.71 ops/s**  
- 标准错误中有大量 `sub cmd_* failed: timeout`，建议适当调大 `batch_command_timeout_ms` 或减小 batch 以降低超时率。

### 4.6 报告 11:25:25 — Pipeline ON, batch=200, 20 线程

- 总操作数: 20000，总耗时: 1.60s，吞吐量: **12480.62 ops/s**（当前最高）

### 4.7 报告 11:28:19 — Pipeline OFF, 20 线程

- 总操作数: 20000，总耗时: 100.95s，吞吐量: **198.12 ops/s**  
- 每线程约 9.9 ops/s（线程数翻倍、总吞吐略升，仍受 RTT 限制）

---
